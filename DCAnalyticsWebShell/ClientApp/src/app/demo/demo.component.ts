import { Component } from '@angular/core';
import { Questionaire } from 'src/models/Questionaire';
import { Section } from 'src/models/Section';
import { DataTypes } from 'src/enums/enums';
//let $ = require('../../assets/lib/jquery/dist/jquery.min.js');
declare let $ : any;

@Component({
  selector: 'app-demo',
  templateUrl: './demo.component.html',
})
export class DemoComponent {
  Questionaire: Questionaire
  Sections: Section[]
  Section: Section
  dataTypes = DataTypes
  constructor(){}

  ngOnInit()
  {
    const _json = {"Latitude":0,"Longitude":0,"Status":0,"Sections":[{"Questions":[{"QuestionText":"Take Photo","DataType":13,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_00"},{"QuestionText":"Name","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_01"},{"QuestionText":"Mobile No.","DataType":22,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_02"},{"EnumList":{"Name":"Region","EnumValues":[{"Description":"Buikwe","Code":1},{"Description":"Bukomansimbi","Code":2},{"Description":"Butambala","Code":3},{"Description":"Buvuma","Code":4},{"Description":"Gomba","Code":5},{"Description":"Kalangala","Code":6},{"Description":"Kalungu","Code":7},{"Description":"Kampala","Code":8},{"Description":"Kayunga","Code":9},{"Description":"Kiboga","Code":10},{"Description":"Kyankwanzi","Code":11},{"Description":"Kiboga","Code":12},{"Description":"Luweero","Code":13},{"Description":"Lwengo","Code":14},{"Description":"Lyantonde","Code":15},{"Description":"Masaka","Code":16},{"Description":"Mpigi","Code":17},{"Description":"Mubende","Code":18},{"Description":"Mukono","Code":19},{"Description":"Nakaseke","Code":20},{"Description":"Nakasongola","Code":21},{"Description":"Rakai","Code":22},{"Description":"Sembabule","Code":23},{"Description":"Wakiso","Code":24},{"Description":"Amuria","Code":25},{"Description":"Budaka","Code":26},{"Description":"Bududa","Code":27},{"Description":"Bugiri","Code":28},{"Description":"Masaka","Code":29},{"Description":"Bukedea","Code":30},{"Description":"Bukwa","Code":31},{"Description":"Bulambuli","Code":32},{"Description":"Busia","Code":33},{"Description":"Butaleja","Code":34},{"Description":"Iganga","Code":35},{"Description":"Buyende","Code":36},{"Description":"Jinja","Code":37},{"Description":"Kaberamaido","Code":38},{"Description":"Kaliro","Code":39},{"Description":"Kamuli","Code":40},{"Description":"Kapchorwa","Code":41},
    {"Description":"Katakwi","Code":42},{"Description":"Kibuku","Code":43},{"Description":"Kumi","Code":44},{"Description":"Kween","Code":45}],"TableName":"Enum_Region"},"QuestionText":"Region","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_03"},{"QuestionText":"Parish","DataType":1,"Conditions":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_04"},{"QuestionText":"Subcounty","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_05"},{"QuestionText":"DOB","DataType":3,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_06"},{"EnumList":{"Name":"Gender","EnumValues":[{"Description":"Male","Code":1},{"Description":"Female","Code":2}],"TableName":"Enum_Gender"},"QuestionText":"Gender","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_07"},{"EnumList":{"Name":"Education","EnumValues":[{"Description":"University","Code":1},{"Description":"Territory","Code":2},{"Description":"Secondary","Code":3},{"Description":"Primary","Code":4},{"Description":"None","Code":5}],"TableName":"Enum_Education"},"QuestionText":"Education level","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_08"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"YES","Code":1},{"Description":"NO","Code":2}],"TableName":"Enum_YESNO"},"QuestionText":"Do you have a bank account?","DataType":21,"Conditions":[{"AttributeKey":null,"Qualifier":0,"Answer":{"Description":"NO","Code":2},"Target":{"QuestionText":null,"DataType":0,"Conditions":[],"QuestionType":2,"CollectionObjectType":2,"Name":"","IsSystem":false,"TableName":"","Key":"0_10"},"EnumList":null,"SectionKey":"4b5e6ce-2165-4d30-38c8-5c56d6c8e6aa5"}],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_09"},{"QuestionText":"Why?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"0_10"}],"SubSections":[],"CollectionObjectType":0,"Name":"Farmer Information","IsSystem":false,"TableName":"","Key":"4b5e6ce-2165-4d30-38c8-5c56d6c8e6aa5"},{"Questions":[{"EnumList":{"Name":"Crop","EnumValues":[{"Description":"Robusta","Code":1},{"Description":"Arabic","Code":2},{"Description":"Elite","Code":3},{"Description":"Clone","Code":4}],"TableName":"Enum_Crop"},"QuestionText":"Type of coffee grown","DataType":21,"Conditions":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_01"},{"QuestionText":"What is your most important crop?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_02"},{"QuestionText":"How many $crop fields do you have?","DataType":5,"Conditions":[],"Dependencies":[{"Target":{"Name":"Field Inspection","Key":"5616511891561","Questions":[{"EnumList":{"Name":"Crop Spacing","EnumValues":[{"Description":" 2.5m x 2.5m","Code":1},{"Description":"2m x 2m","Code":2}],"TableName":"Enum_Crop Spacing"},"QuestionText":"Crop Spacing","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_16"},
    {"QuestionText":"what other crops are grown on the Field?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_22"},{"EnumList":{"Name":"Control Level","EnumValues":[{"Description":"Very well","Code":1},{"Description":"Well","Code":2},{"Description":"Poor","Code":3}],"TableName":"Enum_Control Level"},"QuestionText":"How well does farmer control weeds on this ${Field} ?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_27"},{"EnumList":{"Name":"Prune Level","EnumValues":[{"Description":"Very well","Code":1},{"Description":"Well","Code":2},{"Description":"Poor","Code":3}],"TableName":"Enum_Prune Level"},"QuestionText":"How well does the farmer prune this Field?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_28"}]}}],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_03"},{"QuestionText":"How old are most of your coffee trees?","DataType":5,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_04"},{"QuestionText":"How many KGS did you harvest last season?","DataType":5,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_05"},{"QuestionText":"Where do you sell your harvested coffee?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_06"},{"QuestionText":"How many shade trees were planted last year in this field ${Field}?","DataType":5,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_07"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"YES","Code":1},{"Description":"NO","Code":2}],"TableName":"Enum_YESNO"},"QuestionText":"Have you planted any new coffee trees in the last 12 months?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_08"},{"EnumList":{"Name":"Crop","EnumValues":[{"Description":"Nursery","Code":1},{"Description":"Research","Code":2},{"Description":"Institution","Code":3},{"Description":"Other","Code":4},{"Description":"Farmer","Code":5}],"TableName":"Enum_Crop"},"QuestionText":"Where did you acquire the seedling?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_09"},{"QuestionText":"How many coffee trees did you plant?","DataType":5,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_10"},{"QuestionText":"What types of Equipment are used on the Farm?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_11"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"Tractor","Code":1},{"Description":"Spraying","Code":2},{"Description":"Pangas","Code":3}],"TableName":"Enum_YESNO"},"QuestionText":"What fertilizer/Chemical do you use?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":3,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_12"},{"QuestionText":"what chemical?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_13"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"YES","Code":1},{"Description":"NO","Code":2}],"TableName":"Enum_YESNO"},"QuestionText":"Do you attend farmer trainings?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_14"},{"EnumList":{"Name":"Training Information","EnumValues":[{"Description":"Too Far","Code":1},
    {"Description":"Not Informed","Code":2}],"TableName":"Enum_Training Information"},"QuestionText":"Why donâ€™t you attend trainings?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_15"},{"QuestionText":"Do you irrigate your field?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_17"},{"EnumList":{"Name":"Land Holding Details","EnumValues":[{"Description":"Drip","Code":1},{"Description":"Sprinkler","Code":2},{"Description":"Other","Code":3},{"Description":"N/A","Code":4}],"TableName":"Enum_Land Holding Details"},"QuestionText":"Irrigation Type","DataType":21,"Conditions":[{"AttributeKey":null,"Qualifier":0,"Answer":{"Description":"Other","Code":3},"Target":{"QuestionText":null,"DataType":0,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"","IsSystem":false,"TableName":"","Key":"1_19"},"EnumList":null,"SectionKey":"8d6b3a8e-8954-8e6d-38c8-55ad5a5adada5"}],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_18"},{"QuestionText":"If other please specify","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_19"},{"EnumList":{"Name":"Land Holding Details","EnumValues":[{"Description":"River","Code":1},{"Description":"Lake","Code":2},{"Description":"Dam","Code":3},{"Description":"Well","Code":4}],"TableName":"Enum_Land Holding Details"},"QuestionText":"Irrigation/water Source","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_20"},{"EnumList":{"Name":"Land Holding Details","EnumValues":[{"Description":"FreeHold","Code":1},{"Description":"Private","Code":2},{"Description":"Mailo","Code":3},{"Description":"LeaseHold","Code":4}],
    "TableName":"Enum_Land Holding Details"},"QuestionText":"Land Holding Details","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_21"},{"QuestionText":"Next date of visit","DataType":3,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_23"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"YES","Code":1},{"Description":"NO","Code":2}],"TableName":"Enum_YESNO"},"QuestionText":"Have you done soil testing before?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_24"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"Loam Soil","Code":1},{"Description":"Sand","Code":2},{"Description":"Stones","Code":3},{"Description":"Brown soil","Code":4}],"TableName":"Enum_YESNO"},"QuestionText":"Soil type?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_25"},{"EnumList":{"Name":"pH Level","EnumValues":[{"Description":"1","Code":1},{"Description":"2","Code":2},{"Description":"3","Code":3},{"Description":"4","Code":4}],"TableName":"Enum_pH Level"},"QuestionText":"pH Level in soil?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_26"},{"EnumList":{"Name":"YESNO","EnumValues":[{"Description":"YES","Code":1},{"Description":"No","Code":2}],"TableName":"Enum_YESNO"},"QuestionText":"How well does the farmer prune this Field?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_30"},{"QuestionText":"Map Farmer\'s Land","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":4,"CollectionObjectType":2,"Name":"Map Farmer\'s Land","IsSystem":false,"TableName":"","Key":"1_31"}],"SubSections":[{"Name":"Field Inspection","Key":"","Questions":[{"EnumList":{"Name":"Crop Spacing","EnumValues":[{"Description":" 2.5m x 2.5m","Code":1},{"Description":"2m x 2m","Code":2}],"TableName":"Enum_Crop Spacing"},"QuestionText":"Crop Spacing","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_16"},{"QuestionText":"what other crops are grown on the Field?","DataType":1,"Conditions":[],"Dependencies":[],"QuestionType":2,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_22"},{"EnumList":{"Name":"Control Level","EnumValues":[{"Description":"Very well","Code":1},{"Description":"Well","Code":2},{"Description":"Poor","Code":3}],"TableName":"Enum_Control Level"},"QuestionText":"How well does farmer control weeds on this ${Field} ?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_27"},{"EnumList":{"Name":"Prune Level","EnumValues":[{"Description":"Very well","Code":1},{"Description":"Well","Code":2},{"Description":"Poor","Code":3}],"TableName":"Enum_Prune Level"},"QuestionText":"How well does the farmer prune this Field?","DataType":21,"Conditions":[],"Dependencies":[],"QuestionType":1,"CollectionObjectType":2,"Name":"FARM","IsSystem":false,"TableName":"","Key":"1_28"}]}],"CollectionObjectType":0,"Name":"Field Inspection","IsSystem":false,"TableName":"","Key":"8d6b3a8e-8954-8e6d-38c8-55ad5a5adada5"}],"CollectionObjectType":0,"Name":"Farmer Questionaire","IsSystem":false,"TableName":"","Key":"664db252-30c2-4645-ac1c-5b93abeca2c1"};
    this.Questionaire = JSON.parse(JSON.stringify(_json))
    this.Sections = this.Questionaire.Sections
    this.Section = this.Sections[0]
  }

  OnSelectSection(key)
  {
    
  }

  ExpandSection(e)
  {
    debugger
    var $_target =  $(e.currentTarget).parent().parent().parent().parent();
    var $_panelBody = $_target.find(".section-collapse");
    if($_panelBody){
      $_panelBody.collapse('toggle')
    }
  }
}
